<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/controllers/result_controller.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/controllers/result_controller.py" />
              <option name="originalContent" value="import json&#10;from http import HTTPStatus&#10;&#10;from fastapi import APIRouter&#10;from starlette.requests import Request&#10;from starlette.responses import JSONResponse&#10;&#10;result_router = APIRouter(prefix=&quot;/result&quot;)&#10;&#10;@result_router.get(&quot;/get-result&quot;)&#10;async def get_result(request: Request):&#10;    print(&quot;[DEBUG] /result/get-result headers:&quot;, request.headers)&#10;    print(&quot;[DEBUG] /result/get-result session:&quot;, dict(request.session))&#10;    analysis_suggestions = request.session.get('analysis_suggestions')&#10;    print(&quot;*&quot; * 100)&#10;    print(&quot;Retrieving analysis suggestions from session:&quot;)&#10;    print(analysis_suggestions)&#10;    if analysis_suggestions is None:&#10;        return JSONResponse({&quot;error&quot;: &quot;'analysis_suggestions' not found in session.&quot;}, status_code=HTTPStatus.BAD_REQUEST)&#10;    formatted_analysis_suggestions = analysis_suggestions.replace(&quot;```json&quot;, &quot;&quot;).replace(&quot;```&quot;, &quot;&quot;)&#10;    json_data = json.loads(formatted_analysis_suggestions)&#10;    return json_data&#10;" />
              <option name="updatedContent" value="import json&#10;from http import HTTPStatus&#10;&#10;from fastapi import APIRouter&#10;from starlette.requests import Request&#10;from starlette.responses import JSONResponse&#10;&#10;result_router = APIRouter(prefix=&quot;/result&quot;)&#10;&#10;@result_router.get(&quot;/get-result&quot;)&#10;async def get_result(request: Request):&#10;    print(&quot;[DEBUG] /result/get-result headers:&quot;, request.headers)&#10;    print(&quot;[DEBUG] /result/get-result session:&quot;, dict(request.session))&#10;    analysis_suggestions = request.session.get('analysis_suggestions')&#10;    print(&quot;*&quot; * 100)&#10;    print(&quot;Retrieving analysis suggestions from session:&quot;)&#10;    print(analysis_suggestions)&#10;    if analysis_suggestions is None:&#10;        return JSONResponse({&quot;error&quot;: &quot;'analysis_suggestions' not found in session.&quot;}, status_code=HTTPStatus.BAD_REQUEST)&#10;    formatted_analysis_suggestions = analysis_suggestions.replace(&quot;```json&quot;, &quot;&quot;).replace(&quot;```&quot;, &quot;&quot;)&#10;    json_data = json.loads(formatted_analysis_suggestions)&#10;    return json_data" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/main.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/main.py" />
              <option name="originalContent" value="from fastapi import FastAPI&#10;&#10;from controllers.agent_controller import agent_router&#10;from controllers.pdf_controller import pdf_router&#10;from controllers.users_controller import user_router&#10;from controllers.result_controller import result_router&#10;from starlette.middleware.sessions import SessionMiddleware&#10;from starlette.middleware.cors import CORSMiddleware&#10;app = FastAPI()&#10;app.add_middleware(SessionMiddleware, secret_key=&quot;my-secret-key&quot;, same_site=&quot;none&quot;, https_only=False)&#10;app.add_middleware(&#10;    CORSMiddleware,&#10;    allow_origins=[&quot;http://localhost:5173&quot;],&#10;    allow_credentials=True,&#10;    allow_methods=[&quot;*&quot;],&#10;    allow_headers=[&quot;*&quot;],&#10;)&#10;&#10;app.include_router(pdf_router)&#10;app.include_router(user_router)&#10;app.include_router(result_router)&#10;app.include_router(agent_router)&#10;&#10;@app.get(&quot;/&quot;)&#10;async def root():&#10;    return {&quot;message&quot;: &quot;Hello World&quot;}&#10;" />
              <option name="updatedContent" value="from fastapi import FastAPI&#10;&#10;from controllers.agent_controller import agent_router&#10;from controllers.pdf_controller import pdf_router&#10;from controllers.users_controller import user_router&#10;from controllers.result_controller import result_router&#10;from starlette.middleware.sessions import SessionMiddleware&#10;from starlette.middleware.cors import CORSMiddleware&#10;app = FastAPI()&#10;app.add_middleware(SessionMiddleware, secret_key=&quot;my-secret-key&quot;, same_site=&quot;none&quot;, https_only=False)&#10;app.add_middleware(&#10;    CORSMiddleware,&#10;    allow_origins=[&quot;http://localhost:5173&quot;],&#10;    allow_credentials=True,&#10;    allow_methods=[&quot;*&quot;],&#10;    allow_headers=[&quot;*&quot;],&#10;)&#10;&#10;app.include_router(pdf_router)&#10;app.include_router(user_router)&#10;app.include_router(result_router)&#10;app.include_router(agent_router)&#10;&#10;@app.get(&quot;/&quot;)&#10;async def root():&#10;    return {&quot;message&quot;: &quot;Hello World&quot;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/App.jsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/App.jsx" />
              <option name="originalContent" value="import React, { useState } from &quot;react&quot;;&#10;import ReportingTab from &quot;./reporting&quot;;&#10;import CampaignsTab from &quot;./campaign&quot;;&#10;import FilesTab from &quot;./files&quot;;&#10;&#10;&#10;// Sample initial data for campaigns (unchanged)&#10;const initialCampaigns = [&#10;  {&#10;    id: 1,&#10;    title: &quot;HVAC Optimization Sprint&quot;,&#10;    tasks: [&#10;      {&#10;        id: &quot;t1&quot;,&#10;        text: &quot;Verify thermostat schedules match work hours.&quot;,&#10;        points: 10,&#10;        completed: false,&#10;      },&#10;      {&#10;        id: &quot;t2&quot;,&#10;        text: &quot;Check air filters (last checked 3 months ago).&quot;,&#10;        points: 15,&#10;        completed: false,&#10;      },&#10;      {&#10;        id: &quot;t3&quot;,&#10;        text: &quot;Inspect and seal air leaks around unit.&quot;,&#10;        points: 25,&#10;        completed: false,&#10;      },&#10;    ],&#10;  },&#10;  {&#10;    id: 2,&#10;    title: &quot;Phantom Load Hunt&quot;,&#10;    tasks: [&#10;      {&#10;        id: &quot;t4&quot;,&#10;        text: &quot;Conduct night-walk audit of office space.&quot;,&#10;        points: 20,&#10;        completed: false,&#10;      },&#10;      {&#10;        id: &quot;t5&quot;,&#10;        text: &quot;Ensure all monitors are set to sleep mode after 30 mins.&quot;,&#10;        points: 10,&#10;        completed: false,&#10;      },&#10;    ],&#10;  },&#10;];&#10;&#10;&#10;const App = () =&gt; {&#10;  const [campaigns, setCampaigns] = useState(initialCampaigns);&#10;  const [totalPoints, setTotalPoints] = useState(0); // Start score at 0&#10;&#10;  // Function to update campaigns from ReportingTab&#10;  const handleResultUpdate = (resultData) =&gt; {&#10;    // Always set campaigns as an array&#10;    if (Array.isArray(resultData)) {&#10;      setCampaigns(resultData);&#10;    } else if (resultData &amp;&amp; Array.isArray(resultData.campaigns)) {&#10;      setCampaigns(resultData.campaigns);&#10;    } else if (resultData &amp;&amp; typeof resultData === 'object') {&#10;      setCampaigns([resultData]); // wrap single object in array&#10;    } else {&#10;      setCampaigns([]); // fallback to empty array&#10;    }&#10;    setTotalPoints(0); // Reset score to 0 on new campaign/task data&#10;    console.log(campaigns);&#10;  };&#10;&#10;  // Campaign Handlers (unchanged)&#10;  const handleTaskToggle = (campaignId, taskId, taskPoints) =&gt; {&#10;    const updatedCampaigns = campaigns.map((campaign) =&gt; {&#10;      if (campaign.id === campaignId) {&#10;        const updatedTasks = campaign.tasks.map((task) =&gt; {&#10;          if (task.id === taskId) {&#10;            const newCompletedState = !task.completed;&#10;&#10;            setTotalPoints((prevPoints) =&gt;&#10;              newCompletedState&#10;                ? prevPoints + taskPoints&#10;                : prevPoints - taskPoints&#10;            );&#10;&#10;            return { ...task, completed: newCompletedState };&#10;          }&#10;          return task;&#10;        });&#10;        return { ...campaign, tasks: updatedTasks };&#10;      }&#10;      return campaign;&#10;    });&#10;    setCampaigns(updatedCampaigns);&#10;  };&#10;&#10;  return (&#10;    // NOTE: This code assumes the parent component (e.g., App.jsx) defines &#10;// and passes the necessary props (campaigns, totalPoints, handleTaskToggle, and the Tabs).&#10;&#10;&lt;div className=&quot;w-full min-h-screen bg-gray-50&quot;&gt; &#10;  &#10;  {/* Inner Content Wrapper (Full Width) */}&#10;  &lt;div className=&quot;w-full bg-white shadow-none overflow-hidden&quot;&gt; &#10;    &#10;    {/* Header (Spans Full Width) */}&#10;    &lt;header&#10;      className=&quot;p-5 shadow-xl flex flex-col items-center justify-center border-b border-green-600&quot;&#10;      // style={{ backgroundColor: &quot;#B7E5CD&quot; }} &#10;    &gt;&#10;      &lt;h1 className=&quot;text-4xl sm:text-5xl font-extrabold tracking-tight&quot;&gt;&#10;        &lt;span className=&quot;font-serif text-green-700 transition-transform duration-300 inline-block hover:scale-105&quot;&gt;&#10;          Volta&#10;        &lt;/span&gt;&#10;      &lt;/h1&gt;&#10;      &lt;p className=&quot;text-base opacity-90 text-green-800 mt-1&quot;&gt;&#10;        SDG 7 Action Platform: Turn Data into Deeds&#10;      &lt;/p&gt;&#10;    &lt;/header&gt;&#10;&#10;    {/* Grid Content Layout - Full Width, 2 Columns (lg breakpoint) */}&#10;    &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-2&quot;&gt;&#10;      &#10;      {/* 1. LEFT SECTION: Campaigns (With Vertical Divider) */}&#10;      &lt;div className=&quot;lg:col-span-1 lg:border-r border-gray-300 border-b border-gray-200&quot;&gt;&#10;        &lt;CampaignsTab&#10;          campaigns={campaigns} &#10;          totalPoints={totalPoints}&#10;          onTaskToggle={handleTaskToggle}&#10;        /&gt;&#10;      &lt;/div&gt;&#10;      &#10;      {/* 2. RIGHT SECTION CONTAINER: Stacked Reporting and Files */}&#10;      &lt;div className=&quot;lg:col-span-1 p-6 space-y-6&quot;&gt; &#10;        &#10;        {/* TOP RIGHT: Reporting */}&#10;        &lt;div className=&quot;bg-white border border-gray-200 rounded-xl shadow-lg&quot;&gt;&#10;           &lt;ReportingTab onResultUpdate={handleResultUpdate}/&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* BOTTOM RIGHT: Files */}&#10;        &lt;div className=&quot;bg-white border border-gray-200 rounded-xl shadow-lg&quot;&gt;&#10;           &lt;FilesTab /&gt;&#10;        &lt;/div&gt;&#10;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  &lt;/div&gt;&#10;&lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default App;&#10;" />
              <option name="updatedContent" value="import React, { useState } from &quot;react&quot;;&#10;import ReportingTab from &quot;./reporting&quot;;&#10;import CampaignsTab from &quot;./campaign&quot;;&#10;import FilesTab from &quot;./files&quot;;&#10;&#10;&#10;// Sample initial data for campaigns (unchanged)&#10;const initialCampaigns = [&#10;  {&#10;    id: 1,&#10;    title: &quot;HVAC Optimization Sprint&quot;,&#10;    tasks: [&#10;      {&#10;        id: &quot;t1&quot;,&#10;        text: &quot;Verify thermostat schedules match work hours.&quot;,&#10;        points: 10,&#10;        completed: false,&#10;      },&#10;      {&#10;        id: &quot;t2&quot;,&#10;        text: &quot;Check air filters (last checked 3 months ago).&quot;,&#10;        points: 15,&#10;        completed: false,&#10;      },&#10;      {&#10;        id: &quot;t3&quot;,&#10;        text: &quot;Inspect and seal air leaks around unit.&quot;,&#10;        points: 25,&#10;        completed: false,&#10;      },&#10;    ],&#10;  },&#10;  {&#10;    id: 2,&#10;    title: &quot;Phantom Load Hunt&quot;,&#10;    tasks: [&#10;      {&#10;        id: &quot;t4&quot;,&#10;        text: &quot;Conduct night-walk audit of office space.&quot;,&#10;        points: 20,&#10;        completed: false,&#10;      },&#10;      {&#10;        id: &quot;t5&quot;,&#10;        text: &quot;Ensure all monitors are set to sleep mode after 30 mins.&quot;,&#10;        points: 10,&#10;        completed: false,&#10;      },&#10;    ],&#10;  },&#10;];&#10;&#10;&#10;const App = () =&gt; {&#10;  const [campaigns, setCampaigns] = useState(initialCampaigns);&#10;  const [totalPoints, setTotalPoints] = useState(0); // Start score at 0&#10;&#10;  // Function to update campaigns from ReportingTab&#10;  const handleResultUpdate = (resultData) =&gt; {&#10;    // Always set campaigns as an array&#10;    if (Array.isArray(resultData)) {&#10;      setCampaigns(resultData);&#10;    } else if (resultData &amp;&amp; Array.isArray(resultData.campaigns)) {&#10;      setCampaigns(resultData.campaigns);&#10;    } else if (resultData &amp;&amp; typeof resultData === 'object') {&#10;      setCampaigns([resultData]); // wrap single object in array&#10;    } else {&#10;      setCampaigns([]); // fallback to empty array&#10;    }&#10;    setTotalPoints(0); // Reset score to 0 on new campaign/task data&#10;    console.log(campaigns);&#10;  };&#10;&#10;  // Campaign Handlers (unchanged)&#10;  const handleTaskToggle = (campaignId, taskId, taskPoints) =&gt; {&#10;    const updatedCampaigns = campaigns.map((campaign) =&gt; {&#10;      if (campaign.id === campaignId) {&#10;        const updatedTasks = campaign.tasks.map((task) =&gt; {&#10;          if (task.id === taskId) {&#10;            const newCompletedState = !task.completed;&#10;&#10;            setTotalPoints((prevPoints) =&gt;&#10;              newCompletedState&#10;                ? prevPoints + taskPoints&#10;                : prevPoints - taskPoints&#10;            );&#10;&#10;            return { ...task, completed: newCompletedState };&#10;          }&#10;          return task;&#10;        });&#10;        return { ...campaign, tasks: updatedTasks };&#10;      }&#10;      return campaign;&#10;    });&#10;    setCampaigns(updatedCampaigns);&#10;  };&#10;&#10;  return (&#10;    // NOTE: This code assumes the parent component (e.g., App.jsx) defines &#10;// and passes the necessary props (campaigns, totalPoints, handleTaskToggle, and the Tabs).&#10;&#10;&lt;div className=&quot;w-full min-h-screen bg-gray-50&quot;&gt; &#10;  &#10;  {/* Inner Content Wrapper (Full Width) */}&#10;  &lt;div className=&quot;w-full bg-white shadow-none overflow-hidden&quot;&gt; &#10;    &#10;    {/* Header (Spans Full Width) */}&#10;    &lt;header&#10;      className=&quot;p-5 shadow-xl flex flex-col items-center justify-center border-b border-green-600&quot;&#10;      // style={{ backgroundColor: &quot;#B7E5CD&quot; }} &#10;    &gt;&#10;      &lt;h1 className=&quot;text-4xl sm:text-5xl font-extrabold tracking-tight&quot;&gt;&#10;        &lt;span className=&quot;font-serif text-green-700 transition-transform duration-300 inline-block hover:scale-105&quot;&gt;&#10;          Volta&#10;        &lt;/span&gt;&#10;      &lt;/h1&gt;&#10;      &lt;p className=&quot;text-base opacity-90 text-green-800 mt-1&quot;&gt;&#10;        SDG 7 Action Platform: Turn Data into Deeds&#10;      &lt;/p&gt;&#10;    &lt;/header&gt;&#10;&#10;    {/* Grid Content Layout - Full Width, 2 Columns (lg breakpoint) */}&#10;    &lt;div className=&quot;grid grid-cols-1 lg:grid-cols-2&quot;&gt;&#10;      &#10;      {/* 1. LEFT SECTION: Campaigns (With Vertical Divider) */}&#10;      &lt;div className=&quot;lg:col-span-1 lg:border-r border-gray-300 border-b border-gray-200&quot;&gt;&#10;        &lt;CampaignsTab&#10;          campaigns={campaigns} &#10;          totalPoints={totalPoints}&#10;          onTaskToggle={handleTaskToggle}&#10;        /&gt;&#10;      &lt;/div&gt;&#10;      &#10;      {/* 2. RIGHT SECTION CONTAINER: Stacked Reporting and Files */}&#10;      &lt;div className=&quot;lg:col-span-1 p-6 space-y-6&quot;&gt; &#10;        &#10;        {/* TOP RIGHT: Reporting */}&#10;        &lt;div className=&quot;bg-white border border-gray-200 rounded-xl shadow-lg&quot;&gt;&#10;           &lt;ReportingTab onResultUpdate={handleResultUpdate}/&gt;&#10;        &lt;/div&gt;&#10;&#10;        {/* BOTTOM RIGHT: Files */}&#10;        &lt;div className=&quot;bg-white border border-gray-200 rounded-xl shadow-lg&quot;&gt;&#10;           &lt;FilesTab /&gt;&#10;        &lt;/div&gt;&#10;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  &lt;/div&gt;&#10;&lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default App;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/reporting.jsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/reporting.jsx" />
              <option name="originalContent" value="import React, { useState } from &quot;react&quot;;&#10;import axios from &quot;axios&quot;;&#10;&#10;const ReportingTab = ({ onResultUpdate }) =&gt; {&#10;  const [formData, setFormData] = useState({&#10;    role: &quot;&quot;,&#10;    report: &quot;&quot;,&#10;  });&#10;  const handleChange = (e) =&gt; {&#10;    setFormData({ ...formData, [e.target.name]: e.target.value });&#10;  };&#10;&#10;  const handleSubmit = async () =&gt; {&#10;    console.log(&quot;posting: &quot;, formData);&#10;&#10;    try {&#10;      const response = await axios.post(&#10;        &quot;http://127.0.0.1:8000/users/info?role=admin&amp;report=electricity bill is high&quot;,&#10;        formData,&#10;        {&#10;          headers: {&#10;            &quot;Content-Type&quot;: &quot;application/json&quot;,&#10;          },&#10;          withCredentials: true&#10;        }&#10;      );&#10;&#10;      if (response.status &gt;= 200 &amp;&amp; response.status &lt; 300) {&#10;        console.log(&quot;backend response: &quot;, response.data);&#10;&#10;        const result = await axios.get(&quot;http://127.0.0.1:8000/agent/process&quot;, { withCredentials: true });&#10;        sessionStorage.setItem(&quot;result&quot;, JSON.stringify(result.data));&#10;        if (onResultUpdate) {&#10;          onResultUpdate(result.data); // Send result data to App.jsx&#10;        }&#10;        // axios&#10;        //   .get(&quot;http://127.0.0.1:8000/result/get-result&quot;, { withCredentials: true })&#10;        //&#10;        //   .then((response) =&gt; {&#10;        //     console.log(&quot;Data fetched successfully:&quot;);&#10;        //     console.log(&quot;HTTP Status:&quot;, response.status);&#10;        //     console.log(&quot;Data:&quot;, response.data);&#10;        //   })&#10;        //&#10;        //   .catch((error) =&gt; {&#10;        //     console.error(&quot;❌ Error fetching data:&quot;, error.message);&#10;        //     if (error.response) {&#10;        //       console.error(&quot;Response Status:&quot;, error.response.status);&#10;        //     }&#10;        //   });&#10;      } else {&#10;        throw new Error(`Request failed with status ${response.status}`);&#10;      }&#10;    } catch (error) {&#10;      if (error.response) {&#10;     &#10;        console.error(&quot;Server error:&quot;, error.response.data);&#10;        console.error(&quot;Status:&quot;, error.response.status);&#10;      } else if (error.request) {&#10;    &#10;        console.error(&quot;No response received:&quot;, error.request);&#10;      } else {&#10;        console.error(&quot;Error:&quot;, error.message);&#10;      }&#10;      throw error;&#10;    }&#10;&#10;    // alert('Report Submitted! The Volta engine will analyze this and may generate a new campaign task.')&#10;  };&#10;&#10;  return (&#10;    &lt;div className=&quot;p-4 sm:p-8&quot;&gt;&#10;      &lt;h3 className=&quot;text-2xl font-bold mb-6 text-gray-700&quot;&gt;&#10;        Submit an Observation&#10;      &lt;/h3&gt;&#10;      &lt;div className=&quot;space-y-6&quot;&gt;&#10;        &lt;div&gt;&#10;          &lt;label className=&quot;block text-sm font-semibold text-gray-600 mb-2&quot;&gt;&#10;            Your Role&#10;          &lt;/label&gt;&#10;          &lt;select&#10;            className=&quot;w-full p-3 border border-gray-300 rounded-lg shadow-sm bg-white focus:ring-green-500 focus:border-green-500 transition-colors text-base&quot;&#10;            name=&quot;role&quot;&#10;            value={formData.role}&#10;            onChange={handleChange}&#10;          &gt;&#10;            &#10;            &lt;option value=&quot;admin&quot;&gt;Admin&lt;/option&gt;&#10;            &lt;option value=&quot;manager&quot;&gt;Facility Manager&lt;/option&gt;&#10;          &lt;/select&gt;&#10;        &lt;/div&gt;&#10;        &lt;div&gt;&#10;          &lt;label className=&quot;block text-sm font-semibold text-gray-600 mb-2&quot;&gt;&#10;            Details of Observation / Issue (SDG 7 Related)&#10;          &lt;/label&gt;&#10;          &lt;textarea&#10;            name=&quot;report&quot;&#10;            className=&quot;w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-green-500 focus:border-green-500 transition-colors h-40 text-base&quot;&#10;            placeholder=&quot;E.g., The lights in the North Annex were left on all weekend. A loud humming noise is coming from Chiller Unit 3.&quot;&#10;            value={formData.report}&#10;            onChange={handleChange}&#10;          &gt;&lt;/textarea&gt;&#10;        &lt;/div&gt;&#10;        &lt;button&#10;          className=&quot;w-full py-3 bg-green-600 text-white font-bold rounded-lg shadow-md hover:bg-green-700 transition-colors text-lg&quot;&#10;          onClick={handleSubmit}&#10;        &gt;&#10;          Launch Campaign&#10;        &lt;/button&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default ReportingTab;" />
              <option name="updatedContent" value="import React, { useState } from &quot;react&quot;;&#10;import axios from &quot;axios&quot;;&#10;&#10;const ReportingTab = ({ onResultUpdate }) =&gt; {&#10;  const [formData, setFormData] = useState({&#10;    role: &quot;&quot;,&#10;    report: &quot;&quot;,&#10;  });&#10;  const handleChange = (e) =&gt; {&#10;    setFormData({ ...formData, [e.target.name]: e.target.value });&#10;  };&#10;&#10;  const handleSubmit = async () =&gt; {&#10;    console.log(&quot;posting: &quot;, formData);&#10;&#10;    try {&#10;      const response = await axios.post(&#10;        &quot;http://127.0.0.1:8000/users/info?role=admin&amp;report=electricity bill is high&quot;,&#10;        formData,&#10;        {&#10;          headers: {&#10;            &quot;Content-Type&quot;: &quot;application/json&quot;,&#10;          },&#10;          withCredentials: true&#10;        }&#10;      );&#10;&#10;      if (response.status &gt;= 200 &amp;&amp; response.status &lt; 300) {&#10;        console.log(&quot;backend response: &quot;, response.data);&#10;&#10;        const result = await axios.get(&quot;http://127.0.0.1:8000/agent/process&quot;, { withCredentials: true });&#10;        sessionStorage.setItem(&quot;result&quot;, JSON.stringify(result.data));&#10;        if (onResultUpdate) {&#10;          onResultUpdate(result.data); // Send result data to App.jsx&#10;        }&#10;        // axios&#10;        //   .get(&quot;http://127.0.0.1:8000/result/get-result&quot;, { withCredentials: true })&#10;        //&#10;        //   .then((response) =&gt; {&#10;        //     console.log(&quot;Data fetched successfully:&quot;);&#10;        //     console.log(&quot;HTTP Status:&quot;, response.status);&#10;        //     console.log(&quot;Data:&quot;, response.data);&#10;        //   })&#10;        //&#10;        //   .catch((error) =&gt; {&#10;        //     console.error(&quot;❌ Error fetching data:&quot;, error.message);&#10;        //     if (error.response) {&#10;        //       console.error(&quot;Response Status:&quot;, error.response.status);&#10;        //     }&#10;        //   });&#10;      } else {&#10;        throw new Error(`Request failed with status ${response.status}`);&#10;      }&#10;    } catch (error) {&#10;      if (error.response) {&#10;     &#10;        console.error(&quot;Server error:&quot;, error.response.data);&#10;        console.error(&quot;Status:&quot;, error.response.status);&#10;      } else if (error.request) {&#10;    &#10;        console.error(&quot;No response received:&quot;, error.request);&#10;      } else {&#10;        console.error(&quot;Error:&quot;, error.message);&#10;      }&#10;      throw error;&#10;    }&#10;&#10;    // alert('Report Submitted! The Volta engine will analyze this and may generate a new campaign task.')&#10;  };&#10;&#10;  return (&#10;    &lt;div className=&quot;p-4 sm:p-8&quot;&gt;&#10;      &lt;h3 className=&quot;text-2xl font-bold mb-6 text-gray-700&quot;&gt;&#10;        Submit an Observation&#10;      &lt;/h3&gt;&#10;      &lt;div className=&quot;space-y-6&quot;&gt;&#10;        &lt;div&gt;&#10;          &lt;label className=&quot;block text-sm font-semibold text-gray-600 mb-2&quot;&gt;&#10;            Your Role&#10;          &lt;/label&gt;&#10;          &lt;select&#10;            className=&quot;w-full p-3 border border-gray-300 rounded-lg shadow-sm bg-white focus:ring-green-500 focus:border-green-500 transition-colors text-base&quot;&#10;            name=&quot;role&quot;&#10;            value={formData.role}&#10;            onChange={handleChange}&#10;          &gt;&#10;            &#10;            &lt;option value=&quot;admin&quot;&gt;Admin&lt;/option&gt;&#10;            &lt;option value=&quot;manager&quot;&gt;Facility Manager&lt;/option&gt;&#10;          &lt;/select&gt;&#10;        &lt;/div&gt;&#10;        &lt;div&gt;&#10;          &lt;label className=&quot;block text-sm font-semibold text-gray-600 mb-2&quot;&gt;&#10;            Details of Observation / Issue (SDG 7 Related)&#10;          &lt;/label&gt;&#10;          &lt;textarea&#10;            name=&quot;report&quot;&#10;            className=&quot;w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-green-500 focus:border-green-500 transition-colors h-40 text-base&quot;&#10;            placeholder=&quot;E.g., The lights in the North Annex were left on all weekend. A loud humming noise is coming from Chiller Unit 3.&quot;&#10;            value={formData.report}&#10;            onChange={handleChange}&#10;          &gt;&lt;/textarea&gt;&#10;        &lt;/div&gt;&#10;        &lt;button&#10;          className=&quot;w-full py-3 bg-green-600 text-white font-bold rounded-lg shadow-md hover:bg-green-700 transition-colors text-lg&quot;&#10;          onClick={handleSubmit}&#10;        &gt;&#10;          Launch Campaign&#10;        &lt;/button&gt;&#10;      &lt;/div&gt;&#10;    &lt;/div&gt;&#10;  );&#10;};&#10;&#10;export default ReportingTab;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/utils/upload_pdf.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/utils/upload_pdf.py" />
              <option name="originalContent" value="import os&#10;import shutil&#10;&#10;async def upload_pdf(files):&#10;    os.makedirs(&quot;uploads&quot;, exist_ok=True)&#10;    for file in files:&#10;        file_location = f&quot;uploads/{file.filename}&quot;&#10;        # Read file content asynchronously&#10;        content = await file.read()&#10;        with open(file_location, &quot;wb&quot;) as file_object:&#10;            file_object.write(content)&#10;            print(f&quot;Saved file: {file_location}&quot;)&#10;    return {&quot;message&quot;: &quot;Files uploaded successfully&quot;}" />
              <option name="updatedContent" value="import os&#10;import shutil&#10;&#10;async def upload_pdf(files):&#10;    os.makedirs(&quot;uploads&quot;, exist_ok=True)&#10;    for file in files:&#10;        file_location = f&quot;uploads/{file.filename}&quot;&#10;        # Read file content asynchronously&#10;        content = await file.read()&#10;        with open(file_location, &quot;wb&quot;) as file_object:&#10;            file_object.write(content)&#10;            print(f&quot;Saved file: {file_location}&quot;)&#10;    return {&quot;message&quot;: &quot;Files uploaded successfully&quot;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>